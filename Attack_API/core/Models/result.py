from core.extensions import db

class Result(db.model):
    '''This is the class representation of the results generated by the agents and processed by the API. The class is represented in the Database under the results table

    :param result_type: The type of task which the result originated from.
    :type result_type: String
    :param result: The result from the perfomed task
    :type result: String
    :param agent_id: The ID of the agent which the result originated from
    :type agent_id: String
    '''
    result_id = db.Column(db.Integer, primary_key = True)
    agent = db.relationship("Agent")
    moment = db.Column(db.DateTime)
    result_type = db.Colum(db.Integer)
    response = db.Column(db.String)

    def __repr__(self) -> str:
        '''Representation function

        :return: Representation of the result with all the attributes in the database
        :rtype: String
        '''
        return "<Result(id='%s', agent_id='%s', moment='%s', result type='%s', result='%s')>"%(
            str(self.result_id), str(self.agent.Agent_id), self.moment, self.result_type, self.response
        )